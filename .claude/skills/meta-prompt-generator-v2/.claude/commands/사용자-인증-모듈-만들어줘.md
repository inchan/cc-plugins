---
allowed-tools: Task, Read, Write, Edit, Bash, Glob, Grep, WebFetch, WebSearch
description: 사용자 인증 모듈 만들어줘
argument-hint: [project-path]
model: sonnet
version: 1.0.0
cost-budget: 50000
---

# 사용자-인증-모듈-만들어줘

## 메타데이터
- 버전: 1.0.0
- 생성일: 2025-11-17T17:19:54.897Z
- 프레임워크: generic
- 품질 수준: standard

## 변수
- $1: 프로젝트 경로 (기본값: 현재 디렉토리)
- $PROJECT_TYPE: nodejs
- $FRAMEWORK: generic

## 전제조건
- generic 개발 환경 구성됨
- 필수 도구 설치됨
- 적절한 권한 보유

## 지침
- generic 최신 모범 사례 준수
- SOLID 원칙 적용
- 보안 최우선 (OWASP Top 10 고려)
- 성능 최적화
- 완전한 타입 안전성
- 포괄적 에러 핸들링
- 테스트 주도 개발 (TDD)



## 코드베이스 구조
```
$PROJECT_ROOT/
├── src/
│   ├── core/           # 핵심 비즈니스 로직
│   ├── features/       # 기능별 모듈
│   ├── shared/         # 공유 유틸리티
│   └── types/          # 타입 정의
├── tests/
│   ├── unit/           # 단위 테스트
│   ├── integration/    # 통합 테스트
│   └── e2e/            # E2E 테스트
├── docs/               # 문서
└── config/             # 설정 파일
```

## 워크플로우

### 단계 1: 사전 분석
**종속성**: 없음
**실행 모드**: 병렬 (Task 사용)
**서브 에이전트 전략**: 3개 병렬 에이전트

1. Agent 1: generic 최신 문서 조사
2. Agent 2: 유사 프로젝트 패턴 분석
3. Agent 3: 보안 권고사항 수집

**병렬 실행**: 가능 (독립적 작업)
**실패 복구**: 내장 지식으로 대체

---

### 단계 2: 상세 설계
**종속성**: 단계 1
**실행 모드**: 순차적

- 아키텍처 다이어그램 작성
- API 스펙 정의
- 데이터 모델 설계
- 보안 요구사항 명세

**성공 기준**: 검토 가능한 설계 문서
**실패 복구**: 대체 설계 패턴 적용

---

### 단계 3-5: 핵심 구현 (병렬 가능)
**종속성**: 단계 2
**실행 모드**: 병렬 (ROI > 1.5인 경우)

3. 핵심 비즈니스 로직
4. API/인터페이스 레이어
5. 데이터 액세스 레이어

각 단계:
- 입력: 설계 문서
- 출력: 구현된 코드 + 단위 테스트
- 성공 기준: 컴파일 성공 + 테스트 통과

**실패 복구**: 롤백 후 재시도 (최대 2회)

---

### 단계 6: 통합
**종속성**: 단계 3, 4, 5
**실행 모드**: 순차적

- 모듈 통합
- 의존성 연결
- 통합 테스트 실행

**성공 기준**: 전체 시스템 동작
**실패 복구**: 문제 모듈 식별 및 수정

---

### 단계 7: 보안 검증
**종속성**: 단계 6
**실행 모드**: 순차적

```bash
# 보안 스캔 명령 추가
```

**성공 기준**: Critical/High 취약점 0개
**실패 복구**: 취약점 수정 후 재검증

---

### 단계 8: 최종 검증
**종속성**: 단계 7
**실행 모드**: 순차적

```bash
# 프레임워크별 검증 명령 추가
```

**검증 수준**:
- Level 1 (CRITICAL): 필수
- Level 2 (ERROR): 필수
- Level 3 (WARNING): 강력 권장
- Level 4 (INFO): 권장

**성공 기준**: Level 3 이상 달성

---

## 테스트 스위트

### 단위 테스트 (80%+ 커버리지)
- authentication: 성공/실패/엣지 케이스
  - 최소 3개 테스트 케이스
  - 모킹 사용

### 통합 테스트
- 전체 워크플로우 검증
- 외부 의존성 통합
- 데이터 흐름 확인

### E2E 테스트
- 사용자 시나리오
- 실제 환경 시뮬레이션
- 성능 측정

### 보안 테스트
- 인젝션 방지
- 인증/인가 검증
- 데이터 보호

## 비용 추적
- 예상 토큰: 35,000
- 최대 예산: 50,000
- 경고 임계값: 80%

병렬화 ROI 조건:
- 예상 시간 절약 > 30초
- 추가 비용 < 예산의 10%
- ROI > 1.5

## 자기 평가 체크리스트
- [ ] 기능적 완전성 >= 8/10
- [ ] 실행 가능성 >= 7/10
- [ ] 효율성 >= 7/10
- [ ] 유지보수성 >= 7/10
- [ ] 안전성 >= 8/10
- [ ] 총점 >= 70/100

## 최종 결과물
- 완전한 구현 코드
- 포괄적 테스트 스위트
- API 문서
- 사용자 가이드
- 배포 가이드
- 보안 보고서

## 보고서 형식
```markdown
# 구현 보고서

## 요약
- 총 파일: N개
- 코드 라인: N줄
- 테스트 커버리지: N%
- 검증 수준: Level N

## 구현된 기능
- [x] 기능 1
- [x] 기능 2
...

## 테스트 결과
- 단위: N/N 통과
- 통합: N/N 통과
- E2E: N/N 통과

## 보안 상태
- Critical: 0개
- High: 0개
- Medium: N개
- Low: N개

## 알려진 제한사항
- 제한 1
- 제한 2

## 다음 단계
- 개선점 1
- 개선점 2
```
